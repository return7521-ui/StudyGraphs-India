<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>StudyGraphs India | The Future of Mathematics Visualization</title>
    
    <meta name="description" content="The advanced AI-powered successor to StudyTools India. Features 3D Surface Plotting, Vector Fields, Matrix Calculus, and the Arya AI Tutor.">
    <meta name="keywords" content="Graphing Calculator, AI Math Tutor, ISC, CBSE, JEE, Three.js, React, StudyTools India">
    <meta name="author" content="Shashank Kushwaha">
    <meta name="theme-color" content="#0a192f">
    
    <meta property="og:title" content="StudyGraphs India - Visual Intelligence Engine">
    <meta property="og:description" content="Visualizing the language of the universe for Indian Students.">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://studygraphs.india">
    
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <script src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjs/11.8.0/math.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;700&family=Outfit:wght@200;400;600;800&family=Space+Grotesk:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.css">
    <script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.8/dist/katex.min.js"></script>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Outfit', 'sans-serif'],
                        mono: ['JetBrains Mono', 'monospace'],
                        display: ['Space Grotesk', 'sans-serif'],
                    },
                    colors: {
                        deep: {
                            900: '#020c1b',
                            800: '#0a192f',
                            700: '#112240',
                        },
                        neon: {
                            blue: '#64ffda',
                            purple: '#bd34fe',
                            pink: '#ff4185',
                        },
                        glass: {
                            light: 'rgba(255, 255, 255, 0.1)',
                            dark: 'rgba(10, 25, 47, 0.7)',
                            border: 'rgba(255, 255, 255, 0.08)',
                        }
                    },
                    animation: {
                        'spin-slow': 'spin 20s linear infinite',
                        'float': 'float 6s ease-in-out infinite',
                        'pulse-glow': 'pulseGlow 4s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-20px)' },
                        },
                        pulseGlow: {
                            '0%, 100%': { opacity: 1, boxShadow: '0 0 20px rgba(100, 255, 218, 0.2)' },
                            '50%': { opacity: 0.8, boxShadow: '0 0 40px rgba(100, 255, 218, 0.5)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        /* Base Reset */
        :root { --app-height: 100vh; }
        body { 
            height: var(--app-height); 
            overflow: hidden; 
            -webkit-font-smoothing: antialiased;
        }

        /* Glassmorphism Master Class */
        .glass-panel {
            background: rgba(10, 25, 47, 0.65);
            backdrop-filter: blur(12px) saturate(180%);
            -webkit-backdrop-filter: blur(12px) saturate(180%);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
        }
        .light-mode .glass-panel {
            background: rgba(255, 255, 255, 0.85);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.1);
        }

        /* Custom Scrollbar for Chat/Modals */
        .custom-scroll::-webkit-scrollbar { width: 4px; }
        .custom-scroll::-webkit-scrollbar-track { background: transparent; }
        .custom-scroll::-webkit-scrollbar-thumb { background: rgba(100, 255, 218, 0.3); border-radius: 10px; }
        .custom-scroll::-webkit-scrollbar-thumb:hover { background: rgba(100, 255, 218, 0.8); }

        /* The "Living Mesh" Z-Index Management */
        #canvas-bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
        #react-root { position: relative; z-index: 10; height: 100%; }

        /* Latex Display Fixes */
        .katex { font-size: 1.1em; }
        .katex-display { margin: 0.5em 0; overflow-x: auto; }

        /* Loading Spinner */
        .loader-ring {
            display: inline-block;
            width: 80px;
            height: 80px;
        }
        .loader-ring:after {
            content: " ";
            display: block;
            width: 64px;
            height: 64px;
            margin: 8px;
            border-radius: 50%;
            border: 6px solid #fff;
            border-color: #64ffda transparent #64ffda transparent;
            animation: loader-ring 1.2s linear infinite;
        }
        @keyframes loader-ring {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-deep-900 text-slate-200 transition-colors duration-700 selection:bg-neon-pink selection:text-white">

    <canvas id="canvas-bg"></canvas>
    
    <div id="react-root"></div>

      <script type="text/babel">
        /**
         * STUDYGRAPHS INDIA - CORE ARCHITECTURE
         * Developer: Shashank Kushwaha
         * Version: 2.0.0 (Alpha)
         */

        const { useState, useEffect, useRef, useMemo, useCallback } = React;

        /* --- 1. AUDIO SYNTHESIS ENGINE ---
           Procedural sound generation using Web Audio API. 
           No external mp3 files required. 
        */
        const useAudioEngine = () => {
            const ctxRef = useRef(null);
            const masterGainRef = useRef(null);

            const initAudio = () => {
                if (!ctxRef.current) {
                    const AudioContext = window.AudioContext || window.webkitAudioContext;
                    ctxRef.current = new AudioContext();
                    masterGainRef.current = ctxRef.current.createGain();
                    masterGainRef.current.gain.value = 0.3; // Master Volume
                    masterGainRef.current.connect(ctxRef.current.destination);
                }
            };

            const playTone = (type, intensity = 1) => {
                if (!ctxRef.current) initAudio();
                const ctx = ctxRef.current;
                const osc = ctx.createOscillator();
                const gain = ctx.createGain();
                
                osc.connect(gain);
                gain.connect(masterGainRef.current);

                const now = ctx.currentTime;

                if (type === 'hover') {
                    // Subtle UI blip
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(400, now);
                    osc.frequency.exponentialRampToValueAtTime(800, now + 0.05);
                    gain.gain.setValueAtTime(0.05, now);
                    gain.gain.exponentialRampToValueAtTime(0.001, now + 0.05);
                    osc.start(now);
                    osc.stop(now + 0.05);
                } 
                else if (type === 'plot') {
                    // Sci-fi sweep for graphing
                    osc.type = 'triangle';
                    osc.frequency.setValueAtTime(200, now);
                    osc.frequency.linearRampToValueAtTime(600, now + 0.3);
                    gain.gain.setValueAtTime(0.2, now);
                    gain.gain.linearRampToValueAtTime(0, now + 0.3);
                    osc.start(now);
                    osc.stop(now + 0.3);
                }
                else if (type === 'ai_message') {
                    // Gentle chime
                    osc.type = 'sine';
                    osc.frequency.setValueAtTime(880, now); // A5
                    gain.gain.setValueAtTime(0.1, now);
                    gain.gain.exponentialRampToValueAtTime(0.001, now + 0.5);
                    osc.start(now);
                    osc.stop(now + 0.5);
                }
            };

            return { playTone };
        };

        /* --- 2. MATH PARSER UTILITIES --- */
        const MathEngine = {
            detectType: (eq) => {
                if (eq.includes(',')) return 'parametric'; // e.g. "sin(t), cos(t)"
                if (eq.includes('=')) return 'implicit';   // e.g. "x^2 + y^2 = 10"
                if (eq.includes('z')) return 'surface';    // Simple check for 3D context
                return 'explicit'; // Standard y = f(x)
            },
            
            // Generate color palette based on string hash
            generateAccent: (str) => {
                let hash = 0;
                for (let i = 0; i < str.length; i++) hash = str.charCodeAt(i) + ((hash << 5) - hash);
                const hue = Math.abs(hash % 360);
                return `hsl(${hue}, 80%, 60%)`;
            }
        };

                /* --- 3. COMPONENTS: BACKGROUND MESH --- */
        const BackgroundMesh = () => {
            const mountRef = useRef(null);
            
            useEffect(() => {
                const scene = new THREE.Scene();
                const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
                const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('canvas-bg'), alpha: true, antialias: true });
                
                renderer.setSize(window.innerWidth, window.innerHeight);
                renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));

                // Create a flowing terrain grid
                const geometry = new THREE.PlaneGeometry(100, 100, 50, 50);
                const material = new THREE.MeshBasicMaterial({ 
                    color: 0x64ffda, 
                    wireframe: true, 
                    transparent: true, 
                    opacity: 0.08
                });
                const terrain = new THREE.Mesh(geometry, material);
                terrain.rotation.x = -Math.PI / 2;
                scene.add(terrain);

                camera.position.set(0, 10, 20);
                camera.lookAt(0, 0, 0);

                let time = 0;
                const animate = () => {
                    requestAnimationFrame(animate);
                    time += 0.005;
                    
                    // Vertex animation (Simple wave)
                    const positions = geometry.attributes.position;
                    for (let i = 0; i < positions.count; i++) {
                        const x = positions.getX(i);
                        const y = positions.getY(i); // This is Z in plane local space
                        // Perlin-ish noise effect
                        const z = Math.sin(x * 0.2 + time) * 2 + Math.cos(y * 0.2 + time) * 2;
                        positions.setZ(i, z);
                    }
                    positions.needsUpdate = true;
                    terrain.rotation.z += 0.001;
                    
                    renderer.render(scene, camera);
                };
                animate();

                // Cleanup
                const handleResize = () => {
                    camera.aspect = window.innerWidth / window.innerHeight;
                    camera.updateProjectionMatrix();
                    renderer.setSize(window.innerWidth, window.innerHeight);
                };
                window.addEventListener('resize', handleResize);
                return () => window.removeEventListener('resize', handleResize);
            }, []);

            return null; // Renders to the canvas ID directly
        };

        /* --- 4. COMPONENTS: GRAPHING CANVAS (PLOTLY) --- */
        const GraphCanvas = ({ equation, mode, theme, accent }) => {
            const plotRef = useRef(null);

            useEffect(() => {
                if (!plotRef.current) return;

                const isDark = theme === 'dark';
                const textColor = isDark ? '#ccd6f6' : '#1a202c';
                const gridColor = isDark ? '#233554' : '#e2e8f0';

                let trace = {};
                let layout = {
                    autosize: true,
                    paper_bgcolor: 'rgba(0,0,0,0)',
                    plot_bgcolor: 'rgba(0,0,0,0)',
                    font: { family: 'Outfit, sans-serif', color: textColor },
                    margin: { l: 50, r: 20, t: 20, b: 50 },
                    xaxis: { gridcolor: gridColor, zerolinecolor: accent },
                    yaxis: { gridcolor: gridColor, zerolinecolor: accent },
                    hovermode: 'closest',
                    showlegend: false
                };

                // --- PLOTTING LOGIC ---
                try {
                    const compiled = math.compile(equation);
                    
                    if (mode === '3D') {
                        // 3D Surface Plot
                        const size = 30;
                        const x = math.range(-10, 10, 0.5).toArray();
                        const y = math.range(-10, 10, 0.5).toArray();
                        const z = [];
                        
                        for (let i = 0; i < y.length; i++) {
                            const row = [];
                            for (let j = 0; j < x.length; j++) {
                                try {
                                    // Evaluate z = f(x, y)
                                    row.push(compiled.evaluate({ x: x[j], y: y[i] }));
                                } catch (e) { row.push(0); }
                            }
                            z.push(row);
                        }

                        trace = {
                            type: 'surface',
                            z: z, x: x, y: y,
                            colorscale: [[0, '#020c1b'], [1, accent]],
                            opacity: 0.9,
                            contours: {
                                z: { show: true, usecolormap: true, highlightcolor: "#42f462", project: { z: true } }
                            }
                        };
                        
                        layout.scene = {
                            xaxis: { title: 'X', gridcolor: gridColor },
                            yaxis: { title: 'Y', gridcolor: gridColor },
                            zaxis: { title: 'Z', gridcolor: gridColor },
                            camera: { eye: { x: 1.5, y: 1.5, z: 1.5 } }
                        };
                    } 
                    else {
                        // 2D Explicit Plot (y = f(x))
                        const x = math.range(-15, 15, 0.1).toArray();
                        const y = x.map(val => {
                            try { return compiled.evaluate({ x: val }); } catch { return null; }
                        });

                        trace = {
                            x: x, y: y,
                            type: 'scatter',
                            mode: 'lines',
                            line: { color: accent, width: 3, shape: 'spline' },
                            fill: 'tozeroy', // Gradient fill effect
                            fillcolor: accent + '10' // 10% opacity
                        };
                    }

                    Plotly.react(plotRef.current, [trace], layout, { 
                        displayModeBar: true, 
                        displaylogo: false,
                        responsive: true,
                        modeBarButtonsToRemove: ['lasso2d', 'select2d']
                    });

                } catch (err) {
                    console.warn("Equation parsing error:", err);
                }

            }, [equation, mode, theme, accent]);

            return <div ref={plotRef} className="w-full h-full absolute inset-0 z-0" />;
        };

                /* --- 5. COMPONENT: ARYA AI CHAT --- */
        const AryaChat = ({ equation, accent, playTone }) => {
            const [isOpen, setIsOpen] = useState(false);
            const [history, setHistory] = useState([
                { id: 1, role: 'ai', text: "Hello! I am **Arya**, your math companion. I've analyzed the graph. Ask me for the *derivative*, *roots*, or *physics applications*." }
            ]);
            const [input, setInput] = useState("");
            const [loading, setLoading] = useState(false);
            const bottomRef = useRef(null);

            useEffect(() => bottomRef.current?.scrollIntoView({ behavior: 'smooth' }), [history]);

            // --- SIMULATED LLM LOGIC ---
            const generateResponse = (query) => {
                const q = query.toLowerCase();
                let res = "";

                if (q.includes('derivative') || q.includes('d/dx')) {
                    res = `### Derivative Analysis for $${equation}$
                    
To find the rate of change:
1.  **Identify Terms:** We treat $x$ as the variable.
2.  **Apply Rules:** Using the Power Rule $\\frac{d}{dx}x^n = nx^{n-1}$.
3.  **Result:** The slope represents instantaneous velocity.
                    
*Tip: Toggle the 'Tangent' view to see this visually.*`;
                } 
                else if (q.includes('integrate') || q.includes('area')) {
                    res = `### Integration of $${equation}$
                    
$\\int (${equation}) dx$
                    
The area under the curve represents the accumulation of quantity (like distance from velocity).
* Note: Don't forget the constant of integration $+C$!`;
                }
                else if (q.includes('matrix')) {
                    res = "For matrices, please use the **Matrix Tool** in the bottom dock. I can help calculate determinants and inverses there.";
                }
                else {
                    res = `I am analyzing **$${equation}$** in real-time. 
                    
* **Domain:** Likely $\\mathbb{R}$ (depending on asymptotes).
* **Usage:** This function is commonly seen in harmonic motion or signal processing.
                    
Can I help you solve for $x=0$?`;
                }
                return res;
            };

            const handleSend = () => {
                if (!input.trim()) return;
                playTone('plot'); // Reuse plot sound for message send
                setHistory(prev => [...prev, { id: Date.now(), role: 'user', text: input }]);
                setInput("");
                setLoading(true);

                // Simulate network delay
                setTimeout(() => {
                    const reply = generateResponse(input);
                    setHistory(prev => [...prev, { id: Date.now() + 1, role: 'ai', text: reply }]);
                    setLoading(false);
                    playTone('ai_message');
                }, 1200);
            };

            // Basic Markdown/Latex Parser (Visual only)
            const parseText = (text) => {
                return text.split(/(\$.*?\$)/).map((part, i) => {
                    if (part.startsWith('$')) {
                        try {
                            return <span key={i} className="text-neon-blue font-bold mx-1" dangerouslySetInnerHTML={{__html: katex.renderToString(part.replace(/\$/g,''))}} />;
                        } catch(e) { return part; }
                    }
                    return <span key={i}>{part}</span>;
                });
            };

            return (
                <div className="fixed bottom-6 right-6 z-50 flex flex-col items-end">
                    {/* Chat Window */}
                    <div className={`
                        mb-4 w-80 md:w-96 h-[500px] glass-panel rounded-2xl flex flex-col overflow-hidden transition-all duration-300 origin-bottom-right
                        ${isOpen ? 'scale-100 opacity-100' : 'scale-0 opacity-0 pointer-events-none'}
                    `}>
                        {/* Chat Header */}
                        <div className="p-4 border-b border-glass-border bg-white/5 flex justify-between items-center">
                            <div className="flex items-center gap-3">
                                <div className="w-8 h-8 rounded-full bg-gradient-to-tr from-neon-blue to-neon-purple p-[1px]">
                                    <div className="w-full h-full rounded-full bg-deep-900 flex items-center justify-center">
                                        <i className="fas fa-sparkles text-neon-blue text-xs"></i>
                                    </div>
                                </div>
                                <div>
                                    <h3 className="font-bold text-sm tracking-wide">ARYA AI</h3>
                                    <div className="flex items-center gap-1">
                                        <span className="w-2 h-2 bg-green-500 rounded-full animate-pulse"></span>
                                        <span className="text-[10px] text-gray-400 uppercase">Online</span>
                                    </div>
                                </div>
                            </div>
                            <button onClick={() => setIsOpen(false)} className="text-gray-400 hover:text-white"><i className="fas fa-times"></i></button>
                        </div>

                        {/* Messages Area */}
                        <div className="flex-1 overflow-y-auto p-4 space-y-4 custom-scroll bg-black/20">
                            {history.map(msg => (
                                <div key={msg.id} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                                    <div className={`
                                        max-w-[85%] p-3 rounded-2xl text-sm leading-relaxed
                                        ${msg.role === 'user' 
                                            ? 'bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-br-none' 
                                            : 'bg-glass-light border border-glass-border rounded-tl-none text-gray-200'}
                                    `}>
                                        {parseText(msg.text)}
                                    </div>
                                </div>
                            ))}
                            {loading && (
                                <div className="flex justify-start">
                                    <div className="bg-glass-light rounded-2xl rounded-tl-none p-3 flex gap-1">
                                        <span className="w-2 h-2 bg-gray-400 rounded-full animate-bounce"></span>
                                        <span className="w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-100"></span>
                                        <span className="w-2 h-2 bg-gray-400 rounded-full animate-bounce delay-200"></span>
                                    </div>
                                </div>
                            )}
                            <div ref={bottomRef} />
                        </div>

                        {/* Input Area */}
                        <div className="p-3 bg-deep-900 border-t border-glass-border">
                            <div className="flex items-center gap-2 bg-deep-800 rounded-full px-4 py-2 border border-glass-border focus-within:border-neon-blue transition-colors">
                                <input 
                                    className="bg-transparent border-none outline-none flex-1 text-sm text-white placeholder-gray-500 font-sans"
                                    placeholder="Ask about math, physics..."
                                    value={input}
                                    onChange={(e) => setInput(e.target.value)}
                                    onKeyDown={(e) => e.key === 'Enter' && handleSend()}
                                />
                                <button onClick={handleSend} className="text-neon-blue hover:scale-110 transition-transform">
                                    <i className="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* Trigger Button */}
                    <button 
                        onClick={() => { setIsOpen(!isOpen); playTone('hover'); }}
                        className="w-16 h-16 rounded-full glass-panel flex items-center justify-center text-2xl shadow-[0_0_30px_rgba(100,255,218,0.3)] hover:scale-110 transition-transform group relative border-neon-blue border-opacity-50"
                    >
                        <div className="absolute inset-0 rounded-full border border-neon-blue opacity-50 animate-ping"></div>
                        <i className="fas fa-robot text-white group-hover:rotate-12 transition-transform"></i>
                    </button>
                </div>
            );
        };

        /* --- 6. FEATURE: FORMULA MODAL --- */
        const FormulaModal = ({ isOpen, onClose, setEq }) => {
            if (!isOpen) return null;
            const formulas = [
                { name: 'Parabola', eq: 'x^2' },
                { name: 'Sine Wave', eq: 'sin(x)' },
                { name: 'Damped Oscillation', eq: 'e^{-0.1x} * sin(x)' },
                { name: 'Gaussian (Bell)', eq: 'e^{-x^2}' },
                { name: 'Ripple (3D)', eq: 'sin(sqrt(x^2 + y^2))' },
                { name: 'Saddle (3D)', eq: 'x^2 - y^2' }
            ];

            return (
                <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-fade-in">
                    <div className="glass-panel w-full max-w-lg rounded-2xl p-6 relative">
                        <div className="flex justify-between items-center mb-6">
                            <h2 className="text-xl font-bold font-display text-white">Quick Formulas</h2>
                            <button onClick={onClose} className="text-gray-400 hover:text-white"><i className="fas fa-times"></i></button>
                        </div>
                        <div className="grid grid-cols-2 gap-4">
                            {formulas.map(f => (
                                <button 
                                    key={f.name}
                                    onClick={() => { setEq(f.eq); onClose(); }}
                                    className="p-4 rounded-xl bg-white/5 hover:bg-neon-blue/20 border border-white/5 hover:border-neon-blue transition-all text-left group"
                                >
                                    <div className="text-sm text-gray-400 group-hover:text-neon-blue mb-1">{f.name}</div>
                                    <div className="font-mono text-white text-lg">{f.eq}</div>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

                /* --- 7. MAIN APP ORCHESTRATOR --- */
        const App = () => {
            const [theme, setTheme] = useState('dark');
            const [mode, setMode] = useState('2D'); // '2D', '3D', 'MATRIX'
            const [equation, setEquation] = useState('sin(x) * x');
            const [accent, setAccent] = useState('#64ffda');
            const [showFormulas, setShowFormulas] = useState(false);
            const [showFounder, setShowFounder] = useState(false);
            
            const { playTone } = useAudioEngine();

            // Dynamic Accent Color
            useEffect(() => {
                setAccent(MathEngine.generateAccent(equation));
            }, [equation]);

            return (
                <div className={`h-full w-full relative ${theme}`}>
                    
                    {/* --- HEADER --- */}
                    <header className="absolute top-0 w-full p-6 flex justify-between items-center z-40 pointer-events-none">
                        <div className="flex items-center gap-4 pointer-events-auto cursor-pointer group" onClick={() => window.location.reload()}>
                            <div className="w-12 h-12 glass-panel rounded-xl flex items-center justify-center shadow-lg group-hover:rotate-12 transition-transform duration-500">
                                <span className="font-display font-bold text-2xl" style={{color: accent}}>S</span>
                            </div>
                            <div className="hidden md:block">
                                <h1 className="font-display font-bold text-xl tracking-wider text-white">
                                    STUDY<span style={{color: accent}}>GRAPHS</span>
                                </h1>
                                <p className="text-[10px] font-mono uppercase tracking-[0.2em] text-gray-400">
                                    Next-Gen Visualizer
                                </p>
                            </div>
                        </div>
                        
                        <div className="flex gap-4 pointer-events-auto">
                            <button 
                                onClick={() => { setShowFounder(true); playTone('hover'); }}
                                className="px-4 py-2 glass-panel rounded-full text-xs font-mono text-gray-300 hover:bg-white/10 transition-colors"
                            >
                                ABOUT DEV
                            </button>
                        </div>
                    </header>

                    {/* --- CANVAS LAYER --- */}
                    <BackgroundMesh />
                    <GraphCanvas equation={equation} mode={mode} theme={theme} accent={accent} />

                    {/* --- COMMAND DOCK --- */}
                    <div className="fixed bottom-10 left-1/2 transform -translate-x-1/2 z-40 w-[95%] max-w-2xl">
                        <div className="glass-panel rounded-2xl p-2 pl-6 pr-2 flex items-center gap-4 shadow-2xl hover:shadow-[0_10px_40px_rgba(0,0,0,0.5)] transition-all duration-300">
                            
                            {/* Mode Switcher */}
                            <div className="flex bg-deep-900/50 rounded-lg p-1 gap-1">
                                {['2D', '3D'].map(m => (
                                    <button 
                                        key={m}
                                        onClick={() => { setMode(m); playTone('hover'); }}
                                        className={`px-4 py-2 rounded-md text-xs font-bold transition-all ${mode === m ? 'bg-white text-deep-900 shadow-md' : 'text-gray-400 hover:text-white'}`}
                                    >
                                        {m}
                                    </button>
                                ))}
                            </div>

                            {/* Main Input */}
                            <div className="flex-1 relative group">
                                <span className="absolute left-0 top-1/2 -translate-y-1/2 text-gray-500 font-mono text-lg italic">f(x)=</span>
                                <input 
                                    type="text" 
                                    value={equation}
                                    onChange={(e) => setEquation(e.target.value)}
                                    className="w-full bg-transparent border-none outline-none text-xl font-mono text-center text-white placeholder-gray-600"
                                    spellCheck="false"
                                />
                                <div className="absolute bottom-0 left-0 w-0 h-[2px] transition-all group-focus-within:w-full duration-500" style={{ backgroundColor: accent }}></div>
                            </div>

                            {/* Action Buttons */}
                            <div className="flex gap-2">
                                <button 
                                    onClick={() => { setShowFormulas(true); playTone('hover'); }}
                                    className="w-10 h-10 rounded-xl bg-white/5 hover:bg-white/10 flex items-center justify-center text-gray-300 hover:text-neon-blue transition-colors"
                                    title="Formula Sheet"
                                >
                                    <i className="fas fa-book"></i>
                                </button>
                                <button 
                                    onClick={() => { playTone('plot'); }}
                                    className="w-12 h-10 rounded-xl bg-neon-blue hover:bg-white text-deep-900 font-bold flex items-center justify-center transition-colors"
                                    title="Plot Graph"
                                >
                                    <i className="fas fa-arrow-right"></i>
                                </button>
                            </div>
                        </div>
                    </div>

                    {/* --- COMPONENTS --- */}
                    <AryaChat equation={equation} accent={accent} playTone={playTone} />
                    <FormulaModal isOpen={showFormulas} onClose={() => setShowFormulas(false)} setEq={setEquation} />
                    
                    {/* --- FOUNDER MODAL --- */}
                    {showFounder && (
                        <div className="fixed inset-0 z-[100] flex items-center justify-center bg-black/90 backdrop-blur-md animate-fade-in">
                            <div className="glass-panel w-full max-w-md rounded-3xl p-8 relative border-t-4 border-t-neon-blue">
                                <button onClick={() => setShowFounder(false)} className="absolute top-4 right-4 text-gray-400 hover:text-white"><i className="fas fa-times text-xl"></i></button>
                                
                                <div className="text-center">
                                    <div className="w-28 h-28 mx-auto rounded-full bg-gradient-to-br from-neon-blue to-purple-600 p-[2px] mb-6 shadow-2xl">
                                        <div className="w-full h-full rounded-full bg-deep-800 flex items-center justify-center overflow-hidden">
                                            <span className="text-6xl">üë®‚Äçüíª</span>
                                        </div>
                                    </div>
                                    
                                    <h2 className="text-3xl font-display font-bold text-white mb-1">Shashank Kushwaha</h2>
                                    <div className="flex items-center justify-center gap-2 mb-6">
                                        <span className="px-2 py-1 bg-neon-blue/10 text-neon-blue text-[10px] rounded font-mono border border-neon-blue/20">FULL STACK</span>
                                        <span className="px-2 py-1 bg-purple-500/10 text-purple-400 text-[10px] rounded font-mono border border-purple-500/20">ISC STUDENT</span>
                                    </div>
                                    
                                    <p className="text-gray-300 text-sm leading-relaxed mb-8 font-light">
                                        StudyGraphs is the "Pro" evolution of StudyTools India. Built with React, Three.js, and love in <b>Unnao, Uttar Pradesh</b>.
                                    </p>
                                    
                                    <div className="grid grid-cols-2 gap-3 mb-6">
                                        <a href="https://return7521-ui.github.io/studytools-india/" target="_blank" className="py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/30 transition-all flex items-center justify-center gap-2 text-sm">
                                            <i className="fas fa-history text-orange-400"></i> Legacy Site
                                        </a>
                                        <a href="mailto:return7521@gmail.com" className="py-3 rounded-xl bg-white/5 hover:bg-white/10 border border-white/10 hover:border-white/30 transition-all flex items-center justify-center gap-2 text-sm">
                                            <i className="fas fa-envelope text-neon-blue"></i> Contact
                                        </a>
                                    </div>
                                    
                                    <div className="text-[10px] text-gray-500 font-mono">
                                        ¬© 2026 StudyGraphs India. All Rights Reserved.
                                    </div>
                                </div>
                            </div>
                        </div>
                    )}
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('react-root'));
        root.render(<App />);
    </script>
</body>
</html>
